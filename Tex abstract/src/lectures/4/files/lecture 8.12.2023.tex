 	\subsection{Поле $p$-адических чисел и лемма Гензеля}

	 Напомним вкратце  определение поля $\Q_{p}$. Как мы помним из курса алгебры,  \emph{кольцо целых $p$-адических чисел} определяется как 
	 \[
	 	\Z_{p} = \varprojlim \Z/p^{\ell}\Z
	 \]

	 Соотвественно, его элементы имеют вид $\sum_{k = 1}^{\infty} a_k p^{k}$, а операции определяются покоординатно по модулю $p$. Кроме того ясно, что элемент $\Z_p$ обратим тогда и только тогда, когда $a_0 \neq 0 \pmod{p}$, а любой элемент $x \in \Z_{p}$ единственным образом представялется в виде 
	 \begin{equation}
	 	x = p^{k} \cdot \varepsilon, \quad \varepsilon \in \Z_{p}^{*}, k \in \N. 
	 \end{equation}
	 Отсюда в частности следует, что кольцо $\Z_{p}$ локальное с единственным максимальным идеалом  $(p)$. 

	 Кольцо $\Z_{p}$ целостное и его поле частных мы называем полем $p$-адических чисел $\Q_{p}$. Также ясно, что любой $x \in \Q_{p}$ представляется в виде 
	 \begin{equation}
	 	x = p^{k} \cdot \varepsilon, \quad \varepsilon \in \Z_{p}^{*}, \ k \in \Z. 
	 \end{equation}

	 Отметим также, что кольцо $\Z_{p}$ является кольцом дискретного нормаирования (со всеми вытекающими из этого хорошими свойствами), нормирование на нём определяется следующим образом: 
	 \[
	 	x = p^n u, \quad u \in \Z_{p}^{*} \rightsquigarrow \v_{p}(x) = n. 
	 \]
	
	 Полагая $\cU = \Z_{p}^{*}$ мы имеем такую  точную последовательность 
	 \[
	 	1 \to \cU \to \Q_{p}^{*} \xrightarrow{\v} \Z \to 0.
	 \]

	 Кроме того, на $\Q_{p}$ при помощи этого нормирования можно определить \emph{неархимедову $p$-адическую норму}
	 \[
	 	|x|_{p} = \begin{cases} p^{-\v_{p}(x)}, \quad x \neq 0 \\ 0, \quad x = 0 \end{cases}
	 \]

	 Она удовлетворяет всем аксиомам нормы, но вместо неравенства треугольника имеет место более сильное \emph{ультраметрическое неравенство}: 
	 \[
	 	\v_{p}(x + y) \ge \min(\v_{p}(x), \v_{p}(y)) \rightsquigarrow |x + y|_{p} \le \max(|x|_{p}, |y|_{p}).
	 \]

	 Соотвественно, нетрудно убедиться в том, что $\Q_{p}$~--- пополнение $\Q$ по $p$-адической норме (и это даёт другую конструкцию этого поля). Одним из самых частых применений $p$-адических чисел является следующая известная многим со школьных лет лемма:    

	 \begin{lemma}[Лемма Гензеля]\label{Henzel_lemma} 
	 	Пусть  для многочлен $F(x_1, \ldots, x_n)$ с целыми $p$-адическими коэффициентами и набора чисел $y_1, \ldots, y_n \in \Z_{p}$ при некотором $1 \le i \le n$ мы имеем 
	 	\begin{itemize}
	 		\item $F(y_1, \ldots, y_n) = 0 \pmod{p^{2a + 1}}$. 
	 		\item $\frac{\partial F}{\partial x_i}(y_1, \ldots, y_n) \equiv 0 \pmod{p^{a}}$
	 		\item $\frac{\partial F}{\partial x_i}(y_1, \ldots, y_n) \not\equiv 0 \pmod{p^{a + 1}}$,
	 	\end{itemize}
	 	где $a \in \Z_{\ge 0}$. Тогда существуют целые $p$-адические числа $z_1, \ldots, z_n$ такие, что 
	 	\[
	 		F(z_1, \ldots, z_n) = 0, \quad z_i \equiv y_i \pmod{p^{a + 1}}. 
	 	\]
	 \end{lemma}

	 \begin{proof}
	 	Во-первых, от случая многочлена многих переменных можно моментально перейти к случаю многочлена одной переменной, полагая $y = y_i$ и рассматривая 
	 	\[
	 		f(x) = F(y_{1}, \ldots, y_{i - 1}, x, y_{i + 1}, \ldots, y_n).
	 	\]
	 	Тогда для докзательства теоремы нам достаточно показать, что для многочлена $f(x) \in \Z_{p}[x]$, для которого 
	 	\[
	 		f(y) \equiv 0 \pmod{p^{2a + 1}}, \quad f'(y) = u p^{a}, u \in \Z_{p}^{*} \ (\text{т.е. } \v_{p}(f'(y)) = a),		
 		\]	
 		найдётся $z \in \Z_{p}$ такой, что 
 		\[
 			f(z) = 0, \quad z \equiv y \pmod{p^{k + 1}}. 
 		\]

 		Существование $z$ мы докажем известным \emph{методом касательных Ньютона}. Положим $t_0 = y$ и построим последовательность $\{ t_n \}$, как 
 		\[
 			t_{n + 1} = t_n - \frac{f(t_n)}{f'(t_n)}.
 		\]
 		Сейчас про эту последовательность $\{ t_n \}$ мы докажем, что 
 		\begin{itemize}
 			\item $t_n \in \Z_{p} \quad \forall n \in \N$.
 			\item $f(t_n) \equiv 0 \pmod{p^{2a + 1 + n}}$, $n \ge 0$.
 			\item $t_n \equiv t_{n - 1} \pmod{p^{a + n}}$, $n \ge 1$.
 		\end{itemize}
 		Докажем это мы индукцией по $n$. Предположим, что дле некоторого $n \ge 0$ это выполнено, сделаем переход. Так как из сравнимости по модулю большей степени следует сравнимость по модулю меньшей степени, 
 		\[
 			t_{n} \equiv t_{n - 1} \pmod{p^{a + n}} \implies t_{n} \equiv t_{n - 1} \pmod{p^{a + n - 1}}
 		\]
 		\[
 			\begin{cases} 
 			t_{n} \equiv t_{n - 1} \pmod{p^{a + n - 1}} \\
 			t_{n - 1} \equiv t_{n - 2} \pmod{p^{a + n - 1}}
 			\end{cases} \implies t_{n} \equiv t_{n - 1} \equiv t_{n - 2} \pmod{p^{a + n - 1}}.
 		\]
 		Таким образом мы имеем сравнение
 		\[
 			t_n \equiv t_{0} = y \pmod{p^{a + 1}} \implies f'(t_n) \equiv f'(y) \pmod{p^{a + 1}}, 
 		\]
 		а $\v_{p}(f'(y)) = a$. Тогда $\v_{p}(f'(t_n)) = a$ и отсюда моментально следует, что 
 		\[
 			 t_{n + 1} = t_n - \frac{f(t_n)}{f'(t_n)} \in \Z_{p},
 		\]
 		так как по индукционному предположннию $\v_{p}(f(t_n)) = 2a + 1 + n$. Кроме того,
 		\[
 			\frac{f(t_n)}{f'(t_n)} \divby p^{2a + n + 1 - a} = p^{a + n + 1} \implies t_{n + 1} \equiv t_n \pmod{p^{a + n + 1}}.
 		\]
 		Теперь разложим $f(x)$ по степеням $(x - t_n)$:
 		\[
 			f(x) = f(t_n) + f'(t_n)(x - t_n) + (x - t_n)^2G(x), \quad G(x) \in \Z_{p}[x].
 		\]
 		Подставим $x = t_{n + 1}$:
 		\[
 			f(t_{n + 1}) = f(t_n) + f'(t_n)(t_{n + 1} - t_{n}) + (t_{n + 1} - t_{n})^2 G(t_{n + 1}) = \lr*{\frac{f(t_n)}{f'(t_n)}}^2 G(t_{n + 1}). 
  		\]
  		\[
  			\frac{f(t_n)}{f'(t_n)} \divby  p^{a + n + 1} \implies f(t_{n + 1}) \divby p^{2a + n + 2},
  		\]
  		что и требовалось. 

  		Теперь заметим, что так как $v_{p}(t_n - t_{n - 1}) = a + n \to \infty$, последовательность $t_n$ сходится, положим 
  		\[
  			z = \lim_{n \to \infty} t_n.
  		\]
  		Но тогда, с одной стороны $v_{p}(f(t_n)) = 2a + n + 1$, откуда $f(t_n) \to 0$, а с другой стороны, по непрерывности, 
  		\[
  			\lim_{n \to \infty} f(t_n) = f(z) \implies f(z) = 0,
  		\]
  		что и требовалось.
	 \end{proof}

	 Оченнь часто лемма Гензеля используется в вот таком виде 

	 \begin{corollary}[Лемма Гензеля, упрощенная форма]\label{weak_Henzel_lemma}
	 	Пусть $f \in \Z_{p}[x]$ и $x_0 \in \Z_{p}$ таково, что 
	 	\begin{itemize}
	 		\item $f(x_0) \equiv 0 \pmod{p}$
	 		\item $f'(x_0) \not\equiv 0 \pmod{p}$. 
	 	\end{itemize}
	 	Тогда $\exists x \in \Z_{p}\colon x \equiv x_0 \pmod{p}, \ f(x) = 0$.
	 \end{corollary}

	 В следующих нескольких параграфах мы займёмся изучением принципа Минковского-Хассе, или локально-глобального приницп. 

	  Локально-глобальным принципом в теории чисел называют рассуждения примерно такого вида: 

	  \begin{center}
	  	Уравнение разрешимо над $\Z$ $\Leftrightarrow$ уравнение разрешимо по модулю всех простых $p$. 
	  \end{center}

	  Для линейных уравнения это утверждение очевидно выполняется. Также оно выполнено для квадратичных форм: это уже весьма нетривиальное утверждение, доказанное Минковским и Хассе: 

	  		\begin{center}
	  		\emph{Рациональная квадратичная форма представляет ноль над $\Q$ тогда и только тогда, когда она представляет 0 над $\R$, а также представляет 0 над $\Q_{p}$ для всех простых $p$.}
	  		\end{center}

	Это весьма сильное и полезное утверждение мы докажем в следующих параграфах. 	
	  	

	Для кубических форм локально-глобальный принцип уже не верен. В ДЗ~\label{hw:10} мы показывали, что уравнение $3x^3 + 4y^3 + 5z^3 = 0$ разрешимо над  $\F_{p}$ для любого простого $p$. Сейчас, при помощи леммы Гензеля, мы докажем, что оно разрешимо над $\Q_{p}$ для любого простого $p$. Доказать, что оно не имеет решений над $\Z$ (и над $\Q$, соотественно) существенно сложнее, это мы проделаем несколько позже. 



	\begin{theorem} 
		Уравнение $F(x, y, z) = 3x^3 + 4y^3 + 5z^3$ разрешимо над $\Z_{p}$ для любого простого $p$.
	\end{theorem}
	\begin{proof}
		Пусть  сначала $p \neq 2, 3, 5$. Как мы уже убеждались, 
		\[
			\exists x_0, y_0, z_0 \colon 3x_0^3 + 4y_0^3 + 5z_0^3 \equiv 0 \pmod{p},
		\]
		и $x_0$, $y_0$ и $z_0$ одновременно не делятся на $p$ (иначе это тривиальный корень, такие нас не интересуют). Не умаляя общности, пусть $x_0 \notdivby p$. Тогда применим лемму Гензеля с $a = 0$ (т.е. следствие~\ref{weak_Henzel_lemma}) к многочлену 
		\[
			f(x) = 3x^3 + (4y_0^3 + 5z_0^3).
		\]
		Мы действительно можем её применить, так как $f(x_0) \equiv 0 \pmod{p}$, как отмечено выше, а 
		\[
			f'(x_0) = 9x_0^2 \not\equiv 0\pmod{p}.
		\]
		Тогда существует $x_1 \in \Z_{p}$ такой, что $3x_1^3 + 4y_0^3 + 5z_0^3 = 0$, что мы и хотели. 

		Теперь разберёмся с $p = 2, 3, 5$.

		\begin{itemize}
			\item При $p = 2$ рассмотрим $(x_0, y_0, z_0) = (1, 0, 1)$, который, очевидно, даст корень и аналогично случаю выше применим лемму Гензеля с $a = 0$. Действительно,
			\[
				\frac{\partial F}{\partial x}(1, 0, 1) = 9 \notdivby 2. 
			\]
			\item При $p = 3$ рассмотрим $(x_0, y_0, z_0) = (0, 2, -1)$ и применим леммму Гензеля с $a = 1$. В самом деле, $\v_{9}(F(0, 2, -1)) = \v_{27}(27) = 1$, а рассматривая 
			\[
				\frac{\partial F}{\partial y}(0, 2, -1) = 12 \cdot 2^3 \divby 3, \ \notdivby 9, 
			\]
			становится ясно, что лемма Гензеля применима. 
			\item При $p = 5$ рассмотрим $(x_0, y_0, z_0) = (2, -1, 0)$   и применим лемму Гензеля  $a = 0$. Действительно, $\v_{5}(F(2, -1, 0)) = \v_{5}(20) = 1$, а 
			\[
				\frac{\partial F}{\partial x}(2, - 1, 0) = 9 \cdot 4 \notdivby 5. 
			\]
			
		\end{itemize}
		
 	\end{proof}

 	\subsection{Группа квадратов поля $\Q_{p}$ и норменная группа}

	Перед тем, как изучать квадратичные формы, хорошо понимать строение группы квадратов поля $\Q_{p}$. Её изучением мы сейчас и займёмся. Пусть сначала $p \neq 2$. Так как любое $p$-адическое число представимо в виде $\alpha = p^m \varepsilon, \ \varepsilon \in \Z_{p}^{*}$,  если  $\alpha$ является квадратом  числа $\gamma = p^k \varepsilon_{0}$, то $m = 2k, \ \varepsilon = \varepsilon_0^2$. Соотвественно, для описания группы квадратов поля $\Q_{p}$, достаточно понимать, какие элементы $\Z_{p}$ являются квадратами. 

	\begin{statement}\label{squares_of_Z_p} 
		Пусть $p \neq 2$, тогда для того что бы целое $p$-адическое число 
		\[
			\varepsilon = a_0 + a_1 p + a_2 p^2 + \ldots, \quad 0 \le a_i < p, \ a_0 \neq 0,
		\]
		было квадратом, необходимо и достаточно, чтоб $a_0$ было квадратичным вычетом по модулю $p$.
	\end{statement}
	\begin{proof}
		Ясно, что если $\varepsilon = \xi^2$ и $\xi \equiv b \pmod{p}$, то $a_0 \equiv b^2 \pmod{p}$, то есть является квадратичным вычетом по модулю $p$. 

		Теперь докажем в другую сторону. Пусть $a_0 \equiv b^2 \pmod{p}$. Рассмотрим многочлен 
		\[
			f(x) = x^2 - \varepsilon, \quad f(b) \equiv 0 \pmod{p}, \ f'(b) = 2b \not\equiv 0 \pmod{p}.
		\]
		Значит, по лемме Гензеля~\ref{weak_Henzel_lemma}, $\exists \xi \in \Z_{p}\colon f(\xi) = 0$, то есть $\varepsilon = \xi^2$.
	\end{proof}

	Это предложение позволяет нам определить символ Лежандра для элементов $\Z_{p}^{*}$. Действительно, пусть $\varepsilon = a_0 + a_1 p + \ldots$, положим 
	\[
		\lr*{\frac{\varepsilon}{p}} = \lr*{\frac{a_0}{p}}.
	\]
	Корректность этого определения ясна как раз из предложения~\ref{squares_of_Z_p}. Кроме того, если $\eta \in \Z_{p}^{*}, \ \eta = b_0 + b_1 p + \ldots$, то 
	\[
		\lr*{\frac{\varepsilon \eta}{p}} = \lr*{\frac{a_0 b_0}{p}} = \lr*{\frac{a_0}{p}}\lr*{\frac{b_0}{p}} = \lr*{\frac{\varepsilon}{p}}\lr*{\frac{\eta}{p}},
	\] 
	так как обычный (на $\Z$) символ Лежандра мультипликативен. 

	Изложенное выше поможет нам убедиться в том, что 
	\[
		\Q_{p}^{*}/\Q_{p}^{*2} = \{1, \varepsilon, p, \varepsilon p\}, \quad \varepsilon \in \Z_{p}^{*}, \  \lr*{\frac{\varepsilon}{p}} = -1. 
	\]
	Во-первых, ясно, что если $\varepsilon \in \Z_{p}^{*}$ не является квадратом, то отношение любых из чисел $1, \varepsilon, p, \varepsilon p$ не является квадратом (т.е. это разные классы в фаторгруппе).

	 Во-вторых, возьмём $\xi \in \Q_{p}^{*}$, $\xi = p^{m} \theta = p^(a_0 + a_1 p + \ldots), \ \theta \in \Z_{p}^{*}$. 
	\begin{itemize}
		\item Если $m \divby 2$ и $a_0$, квадратичный вычет, то $[\xi] = 1 \in \Q_{p}^{*}/\Q_{p}^{*2}$.
		\item Если $m = 2k + 1$ и $a_0$  квадратичный вычет, то $\theta = \eta^2$ и 
		\[
			\xi = p \cdot p^{2k}\theta = p \cdot (p^k \eta)^2 \implies [\xi] = p.
		\]
		\item Если $m = 2k$, но $a_0$~--- квадратичный невычет, то 
		\[
			\xi = p^{2k} \cdot \theta = \varepsilon \cdot (\theta \varepsilon^{-1} \cdot p^{2k}) \implies [\xi] = \varepsilon.
		\]
		\item Если $m = 2k + 1$ и $a_0$~--- квадратичный невычет, то 
		\[
			\xi = p \cdot \varepsilon \cdot (\theta \varepsilon^{-1} \cdot p^{2k}) \implies  [\xi] = p \varepsilon.
		\]
	\end{itemize}

	В последних двух пунктах мы воспользовались тем, что если $\varepsilon$~--- квадратичный невычет, то $\varepsilon^{-1}$~--- тоже, а тогда 
	\[
		\lr*{\frac{\theta \varepsilon^{-1}}{p}} = \lr*{\frac{\theta}{p}}\lr*{\frac{\varepsilon^{-1}}{p}} = (-1)^2 = 1.
	\]

	Теперь обратимся к случаю $p = 2$. Сначала докажем такую лемму:

	\begin{lemma} 
		Элемент $x \in \Z_{2}^{*}$ лежит в $\Q_{2}^{*2}$ тогда и только тогда, когда $x \equiv 1 \pmod{8}$.
	\end{lemma}
	\begin{proof}
		Необходимость следует из того, что квадрат нечетного числа всегда сравним с 1 по модулю 8. 

		Теперь докажем достаточность. Рассмотрим многочлен $f(t) = t^2 - x$. Тогда 
		\[
			f(1) = 1 - x \equiv 0 \pmod{8}, \quad f'(t) = 2t \rightsquigarrow f'(1) = 2  \implies \v_{2}(f'(1)) = 1.
		\]
		Тогда по лемме Гензеля~\ref{Henzel_lemma} с $a = 1$ мы имеем нужное. 
	\end{proof}

	Отсюда следует, что $\{ 1, 3, 5, 7, 2, 6, 10, 14 \}$ представляют $\Q_{2}^{*}$ по модулю $\Q_{2}^{*}$. Действительно, пусть сначала $x \in \Z_{2}, \ x \notdivby 2$. Тогда 
	\[
		   x = a_0 + 2 a_1 + 4 a_2 + 8y, a_0 \notdivby 2 .
	\]
	Тогда $x \equiv a_0 + 2 a_1 + 4 a_2 \pmod{8}$, а $a_0 + 2 a_1 + 4 a_2$ обратимо по модулю 8 (так как не делится на 2). Тогда 
	\[
		\frac{x}{a_0 + 2 a_1 + 4 a_2} \equiv 1 \pmod{8} \implies \frac{x}{a_0 + 2 a_1 + 4 a_2} = z^2,
	\]
	откуда $[x] \in \Q_{2}^{*}/\Q_{2}^{*2}$ будет иметь вид $[x] = a_0 + 2 a_1 + 4 a_2$. Так как $a_0 = 1$, а остальные коэффициенты равны единице или нулю, так мы получаем классы $1, 3, 5, 7$. В случае, когда $x \divby 2$ мы можем применить абсолютно аналогичное рассуждение к $x / 2$ и получить классы $2, 6, 10, 14$. 

	В то же время ясно, что все эти элементы будут различны. Таким образом, мы доказали такое предложение: 

	\begin{statement}\label{squares_of_Q_2} 
	 	При $p = 2$ индекс подргуппы квадратов равен $[\Q_{p}^{*} : \Q_{p}^{*2}] = 8$. Кроме того, 
	 	\[
	 		\Q_{p}^{*}/\Q_{p}^{*2} = \{ 1, 3, 5, 7, 2, 6, 10, 14 \}.
	 	\]
	 \end{statement} 


	\begin{definition} 
		Пусть $a \in \Q_{p}^{*} \setminus \Q_{p}^{*2}$. Тогда группу 
		\[
			\Nm = \Nm_{a} = \{ 0 \neq x^2 - ay^2 \vert x, y \in \Q_{p}  \}		
		\]	
		называют \emph{норменной группой} для квадратичного расширения $\Q_{p}(\sqrt{a})$. 
	\end{definition}

	\begin{remark}
		То, что $\Nm$ это в самом деле группа следует из мультипликативности нормы в квадратичном расширении $\Q_{p}(\sqrt{a})$.
	\end{remark}

	Ясно, что $\Q_{p}^{*2} \subset \Nm$, так как можно положить $y = 0$. 

	\begin{statement}\label{index_norm_group}
		 $|Q_{p}^{*}/\Nm| = 2$.
	\end{statement}
	\begin{proof}
		Пусть сначала $p \neq 2$. Сначала докажем, что $\Nm \neq \Q^{*2}_{p}$. Если $-a \notin \Q_{p}^{*2}$, то это очевидно. Предположим, что $-a \in \Q_{p}^{*2}$. Тогда 
		\[
			\Nm = \{ x^2 + y^2 \ \vert x, y \in \Q_{p} \}. 
		\]
		Но, квадратичная форма $x^2 + y^2$ представляет все элементы $\Z_{p}^{*}$\footnote{Это следует, например, из теоремы Коши-Девенпорта, или еще из чего-нибудь.} что даёт нам, что $N \neq \Q_{p}^{*2}$. 

		Теперь докажем, что  $\Nm \neq \Q_{p}^{*}$. Ясно, что нам важен лишь класс $a$ по модулю группы квадратов. Покажем, что каким бы он ни был, найдётся число, которое нельзя будет представить формой $x^2 - ay^2$. 
		\begin{itemize}
			\item Пусть $[a] = \varepsilon$. Тогда  $x^2 - \varepsilon y^2 = p$ не имеет решений, так как можно перейти к сравнению по модулю $p$:
			\[
				x^{2} - \varepsilon y^2 \equiv 0 \pmod{p} \rightsquigarrow x^2 \equiv \varepsilon y^2 \pmod{p} \implies x, y \divby p,
			\]
			что даёт нам противоречие, так как тогда 
			\[
				\v_{p}(x^2 - \varepsilon y^2) = 2, \quad \v_{p}(p) = 1.  
			\]
			\item Все оставшиеся случае для $a \in \{1, p, p \varepsilon \}$ сводятся к случаю выше. 
		\end{itemize}

		\[
			\Q_{p}^{*2} \le \Nm \le \Q_{p}^{*} \implies [\Q_{p}^{*} : \Q_p^{*}] \divby [\Q_{p}^{*} : \Nm],
		\]
		а так как $\Nm \neq \Q^{*2}_{p}$ и $\Nm \neq Q^{*}_{p}$,  мы имеем $[\Q_{p}^{*} : \Nm] = 2$. 

		Доказательство случая $p = 2$ является переборным и будет приведено дальше при доказательстве мультипликативности символа Гильберта в случае $p = 2$.
	\end{proof}

	\subsection{Символ Гильберта}

	\begin{definition} 
		Пусть $p$~--- простое число, $a, b \in \Q_{p}^{*}$. Тогда \emph{символом Гильберта} мы будем называть 
		\[
			(a, b)_{p} = \begin{cases} 1, \text{ если } x^2 - ay^2 - bz^2 \text{ представляет 0 над } \Q_{p} \\ -1, \text{ иначе. } \end{cases}
		\]
	\end{definition}


	\begin{remark}
		Для квадратичной формы $a_1 x_1^2 + \ldots + a_n x_n^2$ в этом параграфе мы будем использовать более удобное обозначение $\langle a_1, \ldots, a_n \rangle$.
	\end{remark}

	\begin{statement}\label{guilbert_simbol_norm} 
		Форма $\langle 1, -a, - b \rangle$ изотропна\footnote{Из определения ясно, что это равносильно тому, что $(a, b)_p = 1$. } тогда и только тогда, когда $b = \Nm_{\Q_{p}(\sqrt{a})/\Q_{p}}(\alpha)$ для некоторого $\alpha \in \Q_{p}(\sqrt{a})$.
	\end{statement}
	\begin{proof}
		Ясно, что если $b = \Nm_{\Q_{p}(\sqrt(a))/\Q_{p}}(\alpha)$, то 
		\[
			b = (x + y\sqrt{a})(x - y\sqrt{a}) = x^2 - a y^2
		\]
		и тогда $(x, y, 1)$ даёт представление нуля. 

		Теперь докажем в обратную сторону. Пусть для $x_0, y_0, z_0 \in \Q_{p}$ $x_0^2 - a y_0^2 - bz_0^2 = 0$. 
		\vspace*{-1mm}
		\begin{itemize}
		 	\item Предположим, что $z_0 \neq 0$. Тогда 
		 	\[
		 		b = \lr*{\frac{x_0}{z_0}}^2 - a \lr*{\frac{y_0}{z_0}}.
		 	\]
		 	\item Пусть $z_0 = 0$. Тогда 
		 	\[
		 		x_0^2 - a y_0^2 = 0 \implies a = \lr*{\frac{x_0}{y_0}}^2 = c^2 \implies b = x^2 - c^2 y^2 = (x - cy)(x + cy), \text{ где } x = \frac{1 + b}{2}, \ y = \frac{b - 1}{2c}. 
		 	\]
		 \end{itemize} 

	\end{proof}

	\begin{remark}\hypertarget{(1 - a, a)_p}{}
		Заметим, что $(a, u^2 - av^2)_{p} = 1 \quad \forall u, v \in \Q_{p}$. Действительно: 
		\[
			x^2 - ay^2 - (u^2 - av^2)z^2 = 0 \Leftrightarrow x^2 - ay^2 = (u^2 - av^2)z^2 
	 	\] 	
	 	и тогда нам очевидно подходит набор $(u, v, 1)$.

	 	В частности, $\forall a \in \Q_{p}^{*} \ (a, 1 - a)_{p} = 1$.
	\end{remark}

	\begin{statement}\label{gilb_mult} 
		Символ Гильберта мультипликативен, то есть $(a_1 a_2, b)_p = (a_1, b)_p \cdot (a_2, b)_p$.
	\end{statement}
	\begin{proof}
		\begin{enumerate}
			\item Если $(a_1, b)_p = 1$ и $(a_2, b)_p = 1$, то по предложению~\ref{guilbert_simbol_norm}
			\[
				a_1 = \Nm_{\Q_{p}(\sqrt{b})/\Q_{p}}(\alpha_1), \quad a_2 = \Nm_{\Q_{p}(\sqrt{b})/\Q_{p}}(\alpha_2), \ \alpha_1, \alpha_2 \in \Q_{p}(\sqrt{b}) \implies 
			\]
			\[
				\implies a_1 a_2 =   \Nm_{\Q_{p}(\sqrt{b})/\Q_{p}}(\alpha_1) \Nm_{\Q_{p}(\sqrt{b})/\Q_{p}}(\alpha_2) = \Nm_{\Q_{p}(\sqrt{b})/\Q_{p}}(\alpha_1 \alpha_2),
			\]
			а тогда, опять же, по предложению~\ref{guilbert_simbol_norm} $(a_1 a_2, b)_{p} = 1$.

			\item Пусть $(a_1, b)_{p} = 1, \ (a_{2}, b)_{p} = -1$ (или наоборот). Тогда если $(a_1 a_2, b)_{p} = 1$, то по первому пункту 
			\[
			 	1 = (a_1, b)_{p} \cdot (a_1 a_2, b)_{p} = (a_1^{2}a_2, b)_{p}.
			 \] 
			 С другой стороны, совершенно ясно, что символ Гильберта не меняется при доножении на элемент $\Q_{p}^{*2}$, откуда $(a_1^{2}a_2, b)_{p} = (a_2, b)_{p} = -1$. Таким образом, мы пришли к противоречию. 

			 \item Пусть $p \neq 2$  $(a_1, b)_{p} = -1$, $(a_2, b)_{p} = -1$. Ясно, что мы можем полагать $b \notin \Q_{p}^{*2}$ (иначе всё очевидно). Тогда в предложении~\ref{index_norm_group} мы доказали, что 
			 \[
			  	|\Nm_{b}/\Q_{p}^{*2}| = 2, \ |\Q_{p}^{*}/\Nm_{b}| = 2.
			  \] 
			  Тогда, так как $(a_1, b)_{p} = 1, \ (a_{2}, b)_{p} = -1$, по предложению~\ref{guilbert_simbol_norm} мы имеем $a_1, a_2 \in \Q_{p}^{*} \setminus \Nm_{b}$, а тогда $a_1 a_2 \in \Nm_{b}$ и по предложению~\ref{guilbert_simbol_norm} $(a_1 a_2, b)_{p} = 1$. 
			  \item Теперь пусть $p = 2$ и $(a_1, b)_{p} = 1, \ (a_{2}, b)_{p} = -1$. Тогда по предложению~\ref{squares_of_Q_2} достаточно рассматривать $a_1, a_2, b \in \{ 1, 3, 5, 7, 2, 6, 10, 14 \}$. На этих элементах символ гильберта можно просто вычислить: 
			  \begin{table}
			    \centering
			    \begin{tabular}{c|c|c|c|c|c|c|c|c}
			         & 1 & 3 & 5 & 7 & $2 \cdot 1$ & $2\cdot 3$ & $2 \cdot 5$ & $2 \cdot 7$ \\ \hline
			         1 & $+$ & $+$ & $+$ & $+$ & $+$ & $+$ & $+$ & $+$\\ \hline
			         3 & $+$ & $-$ & $+$ & $-$ & $-$ & $+$ & $-$ & $+$ \\ \hline
			         5 & $+$ & $+$ & $+$ & $+$ & $-$ & $-$ & $-$ & $-$ \\ \hline
			         7 & $+$ & $-$ & $+$ & $-$ & $+$ & $-$ & $+$ & $-$ \\ \hline
			         $2 \cdot 1$ & $+$ & $-$ & $-$ & $+$ & $+$ & $-$ & $-$ & $+$\\ \hline
			         $2 \cdot 3$ & $+$ & $+$ & $-$ & $-$ & $-$ & $-$ & $+$ & $+$\\ \hline
			         $2 \cdot 5$ & $+$ & $-$ & $-$ & $+$ & $-$ & $+$ & $+$ & $-$\\ \hline
			         $2 \cdot 7$ & $+$ & $+$ & $-$ & $-$ & $+$ & $+$ & $-$ & $-$\\ 
			    \end{tabular}
			    \caption{Значения символа Гильберта на $\Q_{2}^{*}/\Q_{2}^{*2}$.}
			    \label{tab:guilbert_Q_2}
			\end{table}

		\end{enumerate}
		\end{proof}

		\begin{remark}
			Если внимательно вглядеться в эту таблицу, становится заметно, что в каждой строке ровно 4 плюса и 4 минуса. Значит, $|\Nm/\Q_{2}^{*2}| = 4$, а так как по предложению~\ref{squares_of_Q_2} $|\Q_{2}^{*}/\Q_{2}^{*2}| = 8$, мы получаем, что $|\Q_{2}^{*2}/\Nm| = 4$. 
		\end{remark}

		\begin{remark}
			Очевидно, что символ Гильберта симметричен, то есть $(a, b)_{p} = (b, a)_{p}$. Тогда из предложения~\ref{gilb_mult} следует, что 
			\[
				(a, b_{1} b_{2})_{p} = (a, b_{1})_{p} \cdot (a, b_{2})_{p}.
			\]
		\end{remark}

		\begin{statement}\label{calc_guilb} 
			Пусть $p$~--- нечетное простое, $\varepsilon, \varepsilon_1, \varepsilon_2 \in \Z_{p}^{*}$. Тогда справедливы следующие свойства символа Гильберта: 
			\begin{enumerate}
				\item $(p, \varepsilon)_{p} = \lr*{\frac{\varepsilon}{p}}$.
				\item $(\varepsilon_1, \varepsilon_2)_{p} = 1$.
			\end{enumerate}
			Если же $p = 2$, они имеют следующий вид: 
			\begin{enumerate}
				\item $(2, \varepsilon)_{2} = (-1)^{\frac{\varepsilon^2 - 1}{8}}$.
				\item $(\varepsilon_1, \varepsilon_2)_{2} = (-1)^{\frac{\varepsilon_1 - 1}{2} \cdot \frac{\varepsilon_2 - 1}{2}}$. 
			\end{enumerate}
		\end{statement}
		\begin{proof}
			Доказательство этого предложения остается в качестве упражнения.
		\end{proof}

		\begin{theorem}[Закон взаимности для символа Гильберта] 
			Пусть $a, b \in \Q^{*}$, тогда 
			\[
				\prod_{p \in \mathbb{P} \cup \{ \infty \}} (a, b)_{p} = 1,
			\]
		\end{theorem}

		\begin{remark}
			Под $\Q_{\infty}$ обычно понимают $\R$ и символ Гильберта $(a, b)_{\infty}$ определяется аналогично. Отметим, что его вычисление существенно легче в силу того, что над $\R$ есть критерий Сильвестра. 
		\end{remark}

		\begin{proof}[Доказательство закона взаимности для символа Гильберта]
			В силу мультипликативности достаточно проверить это равенство для пяти случаев: 
			\begin{enumerate}
				\item $a = -1, b = -1$.
				\item $a = -1, b = 2$.
				\item $a = -1, b = q, $ где $q \in \mathbb{P} \setminus \{ 2 \}$. 
				\item $a = 2$, $b = q$, где $q \in \mathbb{P} \setminus \{ 2 \}$.
				\item $a = p, \ b = q$, где $p, q \in \mathbb{P} \setminus \{ 2 \}$ и $p \neq q$.
			\end{enumerate}
			Проверим, например, формулу в случае 5. Если  $r \in \mathbb{P} \setminus \{ 2, p, q \}$, то ясно, что $(p, q)_{r} = 1$ (так как в этом случае $p, q \in \Z_{r}^{*}$). 
			Рассмотрим остальные случаи. По предложению~\ref{calc_guilb}:
			\[
				(p, q)_{p} = \lr*{\frac{q}{p}}, \quad (p, q)_{q} = \lr*{\frac{p}{q}}, \quad (p, q)_{2} = (-1)^{\frac{(p - 1)(q - 1)}{4}}.
			\]
			Но так как по квадратичному закону взаимности
			\[
				\lr*{\frac{p}{q}}\lr*{\frac{q}{p}} = (-1)^{\frac{(p - 1)(q - 1)}{4}},
			\]
			при перемножении получится 1. 

			Остальные пункты тоже проверяются непосредственно. 
		\end{proof}
	



	


	 




